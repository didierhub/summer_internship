

<?php
// Start the session to store user login status
session_start();

// Check if the form is submitted
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    // Retrieve the submitted username and password
    $username = $_POST["username"];
    $password = $_POST["password"];

    // Connect to the MySQL database
    $conn = new mysqli("localhost", "username", "password", "my_database");

    // Check the database connection
    if ($conn->connect_error) {
        die("Connection failed: " . $conn->connect_error);
    }

    // Prepare the SQL query to fetch user information
    $sql = "SELECT id, username, password FROM users WHERE username = ?";

    // Prepare the statement
    $stmt = $conn->prepare($sql);
    $stmt->bind_param("s", $username);
    $stmt->execute();

    // Get the result
    $result = $stmt->get_result();

    // Check if the username exists
    if ($result->num_rows == 1) {
        // Fetch the user data
        $row = $result->fetch_assoc();

        // Verify the password
        if (password_verify($password, $row["password"])) {
            // Password is correct, store user data in the session
            $_SESSION["user_id"] = $row["id"];
            $_SESSION["username"] = $row["username"];

            // Redirect to the dashboard or any other page after successful login
            header("Location: dashboard.php");
            exit();
        } else {
            // Invalid password
            $error_message = "Invalid username or password";
        }
    } else {
        // Username not found
        $error_message = "Invalid username or password";
    }

    // Close the statement and connection
    $stmt->close();
    $conn->close();
}
?>

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Login</title>
    <link rel="stylesheet" href="login.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    

<div id="login-box">

    <div id="logo"> 
        <img src="ufulogoen4.png" alt="">
    </div>


      <h1>Login</h1>
      <form>
                <label>Username</label>
                <input type="text" placeholder="" />
                <label>Password</label>
                <input type="password" placeholder="" />
                <input type="button" value="log in" />
                <p class="para-2" id="not_have_account">
                    Not have an account? <a href="signup.html"><span> Sign Up Here </span></a>
                </p>
                <closeform></closeform>
    </form>
</div>



  
  </body>
</html>

